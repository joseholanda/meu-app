<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="../../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../../bower_components/paper-ripple/paper-ripple.html">
<link rel="import" href="../../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../../bower_components/iron-ajax/iron-request.html">

<dom-module id="cadastro-crescimento">
  <style>
    :host {
      display: block;
    }
  </style>
  <template>
    
    <iron-ajax id="ajaxCrescimento" method="PUT" url='{{url}}' body='{{body}}' on-response="handleAjax" verbose></iron-ajax>

    <h2>Registrar crescimento</h2>
    
    <paper-radio-group selected="{{filha}}">
      <template is="dom-repeat" items="{{filhas}}">
        <paper-radio-button name="{{item.user}}">{{item.nome}}</paper-radio-button>
      </template>
    </paper-radio-group>
    <br/>

    
    <paper-input id="idade" floatingLabel label="Idade" type="text" value="{{idade}}"></paper-input>
    <paper-input id="peso" floatingLabel label="Peso (g)" type="text" value="{{peso}}"></paper-input>
    <paper-input id="estatura" floatingLabel label="Estatura (cm)" type="text" value="{{estatura}}"></paper-input>
    <paper-input id="perimetroCefalico" floatingLabel label="Perímetro Cefálico" type="text" value="{{perimetroCefalico}}"></paper-input>
    <paper-input id="dataDaAfericao" type="date" value="{{dataDaAfericao}}"></paper-input>
    

    <br/>
    <paper-button raised class="colored" role="button" on-click="addRegistroDeCrescimento">
      <paper-ripple></paper-ripple>
      <iron-icon icon="check"></iron-icon> Adicionar
    </paper-button>


  </template>
</dom-module>
<script>
(function() {
  Polymer({
    is: 'cadastro-crescimento',

    properties: {
      filha: String,
      filhas: Array,
      idade: String,
      peso: String,
      estatura: String,
      perimetroCefalico: String,
      dataDaAfericao: Date,
      url: String,
      body: String
      
    },
    ready: function () {
      this.filhas = [{"nome":"Maria Cecília", "user":"mariacecilia"}, {"nome":"Maria Alice", "user":"mariaalice"}];
    },

    addRegistroDeCrescimento: function () {
      this.url = 'http://localhost:9200/crescimento/crescimento/';
      this.body = '{';

/*
{
  "nome":"Maria Cecília", 
    "dataDaMedicao":"26/12/2012",
    "idade": "2m18d",
    "peso": "5900",
    "estatura":"56",
    "perimetroCefalico":"40.5"
}
*/

    }
  });
})();
</script>
